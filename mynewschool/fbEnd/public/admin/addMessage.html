
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>管理员-苏州同济金融科技研究院区块链培训信息记录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Free HTML5 Template by FREEHTML5" />
  <meta name="keywords" content="free html5, free template, free bootstrap, html5, css3, mobile first, responsive" />
  
    <!-- Facebook and Twitter integration -->
  <meta property="og:title" content=""/>
  <meta property="og:image" content=""/>
  <meta property="og:url" content=""/>
  <meta property="og:site_name" content=""/>
  <meta property="og:description" content=""/>
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
  <link rel="shortcut icon" href="favicon.ico">

  <!-- <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'> -->
  
  <!-- Animate.css -->
  <link rel="stylesheet" href="/css/animate.css">
  <!-- Icomoon Icon Fonts-->
  <link rel="stylesheet" href="/css/icomoon.css">
  <!-- Bootstrap  -->
  <link rel="stylesheet" href="/css/bootstrap.css">
  <!-- Superfish -->
  <link rel="stylesheet" href="/css/superfish.css">

  <link rel="stylesheet" href="/css/style.css">

  <!-- FOR IE9 below -->
  <!--[if lt IE 9]>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
  <!-- jQuery -->



  </head>
  <body>
    <div id="fh5co-wrapper">
    <div id="fh5co-page">
    <div id="fh5co-header">
      <header id="fh5co-header-section" class="head-overlay">
        <div class="container">
          <div class="nav-header">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a><h4 id="fh5co-logo"><a href="/index.html">区块链课程培训信息记录<span class="glyphicon glyphicon-education"></span></a></h4>
            <!-- START #fh5co-menu-wrap -->
            <nav id="fh5co-menu-wrap" role="navigation">
              <ul class="sf-menu" id="fh5co-primary-menu">
                <li>
                  <a href="index.html">主页</i></a>
                </li>
                <li><a href="http://www.tj-fintech.com/">关于我们</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </header>   
    </div>  
    <!-- fh5co-content-section开始看 -->
    <div id="fh5co-services-section">
      <div class="user-header"></div>
      <div class="container" id="checkMRec">
        <div class="row">
         <div class="col-md-8 col-md-offset-2 heading-section animate-box">
            <form class="form-horizontal" id="addlearnerBlock">
              <div class="form-group">
                <label for="term" class="col-sm-2 control-label">学期</label>
                <div class="col-sm-10">
                  <select class="form-control" id="term">
		    <option value="第一期">第一期</option>
		    <option value="第二期">第二期</option>
		    <option value="第三期" selected>第三期</option>
		    <option value="第四期">第四期</option>
		    <option value="第五期">第五期</option>
		    <option value="第六期">第六期</option>
		  </select>
                </div>
              </div>
              <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">证书编号</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="certificateNum" placeholder="请输入证书编号">
                </div>
              </div>
              <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">教学开始时间</label>
                <div class="col-sm-10">
                  <input type="date" class="form-control" id="trainTime" value="2017-11-20">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">教学结束时间</label>
                <div class="col-sm-10">
                  <input type="date" class="form-control" id="authenTime" value="2017-12-20">
                </div>
              </div>
              <div class="form-group">
                <label for="inputEmail3" class="col-sm-2 control-label">姓名</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="name">
                </div>
              </div>
              <div class="form-group">
                <label for="inputPassword3" class="col-sm-2 control-label">手机号</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="phoneNumber" placeholder="请填入十一位手机号" onChange="checkphone(this);" maxlength="11">
                </div>
              </div>
              <div class="form-group">
                <label for="inputPassword3" class="col-sm-2 control-label">邮箱</label>
                <div class="col-sm-10">
                  <input type="email" class="form-control" id="mailbox" placeholder="请填入一个邮箱" onChange="checkmail(this);">
                </div>
              </div>
              <div class="form-group">
                <label for="inputPassword3" class="col-sm-2 control-label">所在机构</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="institution">
                </div>
              </div>
              <div class="form-group">
                <label for="inputPassword3" class="col-sm-2 control-label">职位/职业</label>
                <div class="col-sm-10">
                  <input type="text" class="form-control" id="position">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">认证时间</label>
                <div class="col-sm-10">
                  <input type="date" class="form-control" id="authenTime" value="2017-12-20">
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                  <a class="btn btn-default" onclick="addlearner();">添加学员</a>
                </div>
              </div>
              <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                  <p class="form-control-static" id="tips"></p>
                </div>
              </div>
            </form>

          <div class="hide-block text-center" id="viewlearnerBlock"></div>
          <div class="hide-block" id="adminCenter">
              <div class="text-center" id="myinfoBlock"></div>
              <hr>
              <div id="addAdmin">
              <form class="form-horizontal">
                <div class="form-group">
                  <label for="inputEmail3" class="col-sm-2 control-label">姓名</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="adname">
                  </div>
                </div>
                <div class="form-group">
                  <label for="inputPassword3" class="col-sm-2 control-label">手机号</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" id="adphoneNumber" placeholder="请填入十一位手机号" onChange="checkphone(this);">
                  </div>
                </div>
                <div class="form-group">
                  <div class="col-sm-offset-2 col-sm-10">
                    <a class="btn btn-default" onclick="addAdmin();">添加管理员</a>
                  </div>
                </div>
              </form>
              </div>
              <hr>
              <div class="text-center"><b>所有管理员</b></div>
              <div class="text-center" id="adtips"></div>
          </div>
          <div class="hide-block text-center" id="blockchainExplorer"><a class="btn btn-info" href="http://vpn.tj-fintech.com:57090/">在区块链浏览器中查看</a>
          <hr>
            <div id="method">
             查看方法(建议在平板或笔记本电脑等大屏幕设备上查看)：<br>
            <b> 方法1</b><br>
             ·复制证书编号到"区块浏览"框<br>
             ·选择"Transaction"并点击查找<br>
             <img src="/images/search.jpg" width="360" alt="图片资源暂时失踪"><br>
             ·在”Transation“框中查找<br>
             <img src="/images/show.jpg" width="360" alt="图片资源暂时失踪"><br>
             ·展开详细内容<br>
             <img src="/images/detail.jpg" width="360" alt="图片资源暂时失踪"><br>
            <b> 方法2：</b><br>
            <br>
             ·在BLOCKLIST中查找，学员记录所在的Bock与学员编号相近<br>
             ·点击"BLOCK#*"框的”Transactions字段“后在"Transaction"框中并查看<br>
            </div>
          </div>
         </div>
        </div>
      </div>
    </div>
    <!-- END fh5co-services-section -->   
    <!-- fh5co-blog-section -->
    <footer>
      <div id="footer" style="background: #017f98;">
        <div class="container">
      <div class="row">
        <div class="col-md-6 col-md-offset-3 text-center">
        <p><a href="http://www.tj-fintech.com/">Copyright ©www.tj-fintech.com苏州同济金融科技研究院</a></p>
        </div>
      </div>
    </div>
      </div>
    </footer>
    </div>
  <!-- END fh5co-page -->

    </div>
  <!-- END fh5co-wrapper -->

  <script src="/js/jquery.min.js"></script>
  <!-- jQuery Easing -->
  <script src="/js/jquery.easing.1.3.js"></script>
  <!-- Bootstrap -->
  <script src="/js/bootstrap.min.js"></script>
  <!-- Waypoints -->
  <script src="/js/jquery.waypoints.min.js"></script>
  <!-- Stellar -->
  <script src="/js/jquery.stellar.min.js"></script>
  <!-- Superfish -->
  <script src="/js/hoverIntent.js"></script>
  <script src="/js/superfish.js"></script>

  <!-- Main JS -->
  <script src="/js/main.js"></script>
    <!-- Modernizr JS -->
  <script src="/js/modernizr-2.6.2.min.js"></script>            
  <script type="text/javascript">
                function checkphone(obj){
                 var tel= obj.value;
                 var reg = /^1(3|4|5|7|8)\d{9}$/;
                 if (reg.test(tel)) {
                 }else{
                      alert("不符合手机号码要求");
                      obj.value = '';
                 };
              }
                function checkmail(obj){
                 var tel= obj.value;
                 var reg  = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                 if (reg.test(tel)) {
                 }else{
                      alert("不符合邮箱号码要求");
                      obj.value = '';
                 };
              }
            $(document).ready(function(){
              $(".user-header").load("./user-header.html");

              function getCookie(objName){//获取指定名称的cookie的值   
                  var arrStr = document.cookie.split("; ");   
                  for (var i = 0; i < arrStr.length; i++) {   
                      var temp = arrStr[i].split("=");   
                      if (temp[0] == objName)   
                          return unescape(temp[1]);   
                  }   
              }   

            });
            function addlearner(){
		var TrainTime = $("#trainTime").val();
    if(parseInt(TrainTime.slice(5))>=10)
       TrainTime = TrainTime.slice(0,4) +"年"+ TrainTime.slice(5)+"月";
    else
       TrainTime = TrainTime.slice(0,4) +"年"+ TrainTime.slice(6)+"月";
    var authenTime = $("#authenTime").val();
    authenTime = authenTime.slice(0,4)+"年"+authenTime.slice(5,7)+"月"+authenTime.slice(8,10)+"日";
                var postBody = {
                    name: $("#name").val(),
                    phone: $("#phoneNumber").val(),
		    term: $("#term").val(),
                    certificateNum:$("#certificateNum").val(),
                    mailbox: $("#mailbox").val(),
                    institution: $("#institution").val(),
                    position: $("#position").val(),
		    trainTime: TrainTime,
		    authenTime: authenTime
                };
                $.ajax({
                type: 'POST',
                url: '/check/learner/add',
                data: postBody,
                dataType: 'json',
                success: function(data){
                   console.log(JSON.stringify(data));
                   $("#tips").html(JSON.stringify(data));
	           alert(JSON.stringify(data));
                }
                }).error(function(err){
                    console.log(err);
                    alert(err.responseText);
                });
            }
            function addAdmin(){
                var postBody = {
                    name: $("#adname").val(),
                    phone: $("#adphoneNumber").val()
                };
                $.ajax({
                type: 'POST',
                url: '/check/admin/add',
                data: postBody,
                dataType: 'json',
                success: function(data){
                   console.log(JSON.stringify(data));
                   alert(JSON.stringify(data))
                }
                }).error(function(err){
                    console.log(err);
                    alert(err.responseText);
                });
            }
    function login_out(){
      delCookie(getCookie("name"));
      setTimeout("window.location.href='login.html'",1000);
    }
    function delCookie(name){//为了删除指定名称的cookie，可以将其过期时间设定为一个过去的时间   
    var date = new Date();   
    date.setTime(date.getTime() - 10000);   
    document.cookie = name + "=a; expires=" + date.toGMTString();   
} 
            </script>
  </body>
</html>

